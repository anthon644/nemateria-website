<!DOCTYPE html>
<html>
<head>

	<title>Nemateria</title>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap" rel="stylesheet">

	<link rel="stylesheet" href="css/style.css">

	<link rel="stylesheet" href="css/aos.css" />

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

	<!-- slit.js -->

	<script src="https://cdnjs.cloudflare.com/ajax/libs/split.js/1.5.11/split.min.js"></script>

	<!-- scroll animation -->

	<script src="https://unpkg.com/scrollreveal"></script>

	<!-- Animate -->

	<script src="https://code.createjs.com/createjs-2015.11.26.min.js"></script>

	<script src="js/schema_anim.js"></script>

	<!-- Markdown -->



	  

	

	

	

</head>
<body onload="init();">

	<header>

		<!-- Section gauche -->
		
		<section id="left">

			<div id="screen_left"><img src="svg/arrow-pointing-to-right.svg" alt=""></div>

			<!-- Barre de navigation gauche -->

			<nav id="navleft">
			
				<ul>
					<li><a href="#intro">INTRODUCTION</a></li>
					<li><a href="#galleryanchor">PHILOSOPHIE</a></li>
					<li><a href="#usageanchor">USAGE & INTERFACE</a></li>
					<li><a href="#serviceanchor">SERVICES</a></li>
					<li><a href="#contactform">CONTACT</a></li>
				</ul>

			</nav>

			<!-- titre + phrase d'accroche -->

			<div class="pres">

				<h1>NEMATERIA</h1>

				<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
				Aenean vel nisi sed erat cursus mattis non sed mauris. </p>

			</div>

			<!-- Introduction // titre + text + image -->

			<article id="intro">

			<!-- article strapi -->

			</article>

			<hr>

			<section class="gallery" id="galleryanchor">
				
				<h1>TITRE</h1>

				<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean vel nisi sed erat cursus mattis non sed</p>

				<div class="imgcontainer">

					<figure><img src="img/5.jpg" alt=""></figure>
					<figure><img src="img/6.jpg" alt=""></figure>
					<figure><img src="img/7.jpg" alt=""></figure>
					<figure><img src="img/2.jpg" alt=""></figure>
					<figure><img src="img/3.jpg" alt=""></figure>
					<figure><img src="img/4.jpg" alt=""></figure>

				</div>

			</section>

			<article>

				<div class="articlecontain">
					
					<h2>TITRE</h2>

					<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean vel nisi sed erat cursus mattis non sed mauris. Quisque in leo eu mauris ultricies condimentum. Nullam facilisis maximus massa vitae molestie. Sed molestie urna et turpis venenatis sagittis. Pellentesque sit amet eros quis quam iaculis lobortis et ut odio. Donec euismod enim neque, posuere viverra mi suscipit vitae. Sed imperdiet nibh lacus. Nunc lobortis nec mi sit amet tristique. Pellentesque at ullamcorper purus. Fusce semper placerat laoreet. Nunc nulla tortor, consectetur et posuere vel, ornare quis tellus.</p>

				</div>

				<div class="articlecontain">
					
					<h2>TITRE</h2>

					<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean vel nisi sed erat cursus mattis non sed mauris. Quisque in leo eu mauris ultricies condimentum. Nullam facilisis maximus massa vitae molestie. Sed molestie urna et turpis venenatis sagittis. Pellentesque sit amet eros quis quam iaculis lobortis et ut odio. Donec euismod enim neque, posuere viverra mi suscipit vitae. Sed imperdiet nibh lacus. Nunc lobortis nec mi sit amet tristique. Pellentesque at ullamcorper purus. Fusce semper placerat laoreet. Nunc nulla tortor, consectetur et posuere vel, ornare quis tellus.</p>

				</div>


			</article>

			<hr>

			<section class="usage" id="usageanchor">
				
				<h1>TITRE</h1>

				<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean vel nisi sed erat cursus mattis non sed mauris. Quisque in leo eu mauris ultricies condimentum. Nullam facilisis maximus massa vitae molestie. Sed molestie urna et turpis venenatis sagittis. Pellentesque sit amet eros quis quam iaculis lobortis et ut odio. Donec euismod enim neque, posuere viverra mi suscipit vitae. Sed imperdiet nibh lacus. Nunc lobortis nec mi sit amet tristique. Pellentesque at ullamcorper purus. Fusce semper placerat laoreet. Nunc nulla tortor, consectetur et posuere vel, ornare quis tellus.</p>

				<img src="https://via.placeholder.com/960x600" alt="">

				<img src="https://via.placeholder.com/960x600" alt="">


			</section>

			<section class="service" id="serviceanchor">
				
				<h1>TITRE</h1>

				<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean vel nisi sed erat cursus mattis non sed mauris. Quisque in leo eu mauris ultricies condimentum. Nullam facilisis maximus massa vitae molestie. Sed molestie urna et turpis venenatis sagittis. Pellentesque sit amet eros quis quam iaculis lobortis et ut odio. Donec euismod enim neque, posuere viverra mi suscipit vitae. Sed imperdiet nibh lacus. Nunc lobortis nec mi sit amet tristique. Pellentesque at ullamcorper purus. Fusce semper placerat laoreet. Nunc nulla tortor, consectetur et posuere vel, ornare quis tellus.</p>

				<div class="picto">
					
					<div class="pictoflex">
						
						<img src="svg/evolution.svg" alt="">

						<h1>TITRE</h1>

						<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean vel nisi sed erat cursus mattis non sed mauris. Quisque in leo eu mauris ultricies condimentum. Nullam facilisis maximus massa vitae molestie. Sed molestie urna et turpis venenatis sagittis. Pellentesque sit amet eros quis quam iaculis</p>

					</div>

					<div class="pictoflex">
						
						<img src="svg/reload.svg" alt="">

						<h1>TITRE</h1>

						<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean vel nisi sed erat cursus mattis non sed mauris. Quisque in leo eu mauris ultricies condimentum. Nullam facilisis maximus massa vitae molestie. Sed molestie urna et turpis venenatis sagittis. Pellentesque sit amet eros quis quam iaculis</p>

					</div>

					<div class="pictoflex">
						
						<img src="svg/customer-support.svg" alt="">

						<h1>TITRE</h1>

						<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean vel nisi sed erat cursus mattis non sed mauris. Quisque in leo eu mauris ultricies condimentum. Nullam facilisis maximus massa vitae molestie. Sed molestie urna et turpis venenatis sagittis. Pellentesque sit amet eros quis quam iaculis</p>

					</div>										

				</div>

			

			</section>

			<section id="contactform">

				<h1>CONTACT</h1>
				
				<form action="#" method="post">
	    			<div>
	        			<label for="name">NOM :</label>
	        			<input type="text" id="name" name="user_name">
	    			</div>
	    			<div>
	       				<label for="mail">E-MAIL :</label>
	        			<input type="email" id="mail" name="user_mail">
	    			</div>
	    			<div>
	        			<label for="msg">MESSAGE :</label>
	        			<textarea id="msg" name="user_message"></textarea>
	    			</div>

					<input type="submit" value="ENVOYER">

				</form>

			</section>

		</section>





		<!-- //////////////// Section droite //////////////// -->

		<section id="right">

			<!-- Barre de navigation droite -->

			<nav id="navright">
			
				<ul>
					<li><a href="#">DOCUMENTATION</a></li>
					<li><a href="#techanchor">TECHNOLOGIE</a></li>
					<li><a href="#schemaanchor">ASPECT TECHNIQUE</a></li>
				</ul>

			</nav>	

			<!-- Présentation droite -->

			<div class="presright">

				<h1>TITRE</h1>

				<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
				Aenean vel nisi sed erat cursus mattis non sed mauris. </p>

			</div>

			<!-- Illustration Animée -->

			<section class="schema_anim">

				<div id="animation_container" style="background-color:rgba(255, 255, 255, 0); width:650px; height:434px">
					
					<canvas id="canvas" width="650" height="434" style="display: block; background-color:rgba(255, 255, 255, 0);"></canvas>
					
					<div id="dom_overlay_container" style="pointer-events:none; overflow:hidden; width:650px; height:434px;">
					
					</div>

				</div>


			</section>

			<!-- Bouton Documentation & Github -->


			<section class="button">
				
				<a href="#">DOCUMENTATION</a>

				<a href="#">GITHUB</a>

			</section>

			<!-- Section technologie -->

			<article class="technologie" id="techanchor">
				
				<h1>TITRE</h1>

				<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean vel nisi sed erat cursus mattis non sed mauris.</p>

				<div class="logotech">

					<img src="img/nodejs.png" alt="">
					<img src="img/mongodb.png" alt="">
					<img src="img/nginx.png" alt="">

				</div>

				<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean vel nisi sed erat cursus mattis non sed mauris. Quisque in leo eu mauris ultricies condimentum. Nullam facilisis maximus massa vitae molestie. Sed molestie urna et turpis venenatis sagittis. Pellentesque sit amet eros quis quam iaculis lobortis et ut odio. Donec euismod enim neque, posuere viverra mi suscipit vitae. Sed imperdiet nibh lacus. Nunc lobortis nec mi sit amet tristique. Pellentesque at ullamcorper purus. Fusce semper placerat laoreet. Nunc nulla tortor, consectetur et posuere vel, ornare quis tellus.</p>

			</article>

				<hr>

			<!-- Section schema technique -->

			<article class="schematechnique" id="schemaanchor">
				
				<h1>TITRE</h1>

				<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean vel nisi sed erat cursus mattis non sed mauris.</p>

				<div class="animtech">


					

				</div>

			</article>

			<!-- Rubrique point clés de la technologie -->

			<article class="pointfort">
				
				<h1>TITRE</h1>

				<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean vel nisi sed erat cursus mattis non sed mauris.</p>

				<!-- Conteneur flex -->

				<div class="contain">

					<div class="one">
					
						<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean vel nisi sed erat cursus mattis non sed mauris. Quisque in leo eu mauris ultricies condimentum. Nullam </p>

						<img src="svg/cloud.svg" alt="">

					</div>

			

					<div class="one">
					
						<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean vel nisi sed erat cursus mattis non sed mauris. Quisque in leo eu mauris ultricies condimentum. Nullam </p>

						<img src="svg/time.svg" alt="">

					</div>

			

					<div class="one">
					
						<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean vel nisi sed erat cursus mattis non sed mauris. Quisque in leo eu mauris ultricies condimentum. Nullam </p>

						<img src="svg/puzzle.svg" alt="">

					</div>

			

					<div class="one">
					
						<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean vel nisi sed erat cursus mattis non sed mauris. Quisque in leo eu mauris ultricies condimentum. Nullam </p>

						<img src="svg/meteorite.svg" alt="">

					</div>

				</div>

			</article>

		</section>

	</header>

	<script>
		
		var instance = Split(['#left', '#right'], {
		    sizes: [50, 50],
		    gutterSize: 1, 
		    minSize: 650,

		    onDrag: function() {

		    	var ulLeft = document.querySelector("ul");
        		
        		if (instance.getSizes() < [40, 80]){

        			ulLeft.style.backgroundColor = "black";;

				}else{

					ulLeft.style.backgroundColor = "transparent";;
				}

    		},

		}) 	


		
		document.getElementById("screen_left").onclick = function() {

			instance.setSizes([73.9818338821397, 37.90550376199913]);

		}


		

		//SCROLL REVEAL // ICI LES ANIMATION SUR LES IMAGES

		// GAUCGE - Gallery

		ScrollReveal().reveal('#left .imgcontainer figure:first-child', { container: '#left', reset: true, delay: 50 });

		ScrollReveal().reveal('#left .imgcontainer figure:nth-child(2)', { container: '#left', reset: true, delay: 100 });

		ScrollReveal().reveal('#left .imgcontainer figure:nth-child(3)', { container: '#left', reset: true, delay: 200 });

		ScrollReveal().reveal('#left .imgcontainer figure:nth-child(4)', { container: '#left', reset: true, delay: 300 });

		ScrollReveal().reveal('#left .imgcontainer figure:nth-child(5)', { container: '#left', reset: true, delay: 400 });

		ScrollReveal().reveal('#left .imgcontainer figure:last-child', { container: '#left', reset: true, delay: 500 });



		// DROITE -- LOGO

		ScrollReveal().reveal('#right .logotech img:first-child', { container: '#right', reset: true, delay: 400, distance: '100px', origin: 'right' });

		ScrollReveal().reveal('#right .logotech img:nth-child(2)', { container: '#right', reset: true, delay: 200 });

		ScrollReveal().reveal('#right .logotech img:last-child', { container: '#right', reset: true, delay: 400, distance: '100px', origin: 'left' });

        


        //NAVBAR STICKY LE BACKGROUND CHANGE SI LE SCROLL EST SUPERIEUR OU EGALE A 100.

        var leftWindow = document.querySelector("#left");
        var navleft = document.querySelector("#navleft");
        var rightWindow = document.querySelector("#right");
        var navright = document.querySelector("#navright");

       	leftWindow.addEventListener("scroll", () => {

        	if(leftWindow.scrollTop >= 100){

        		navleft.style.backgroundColor = "black";

        	}else {
        		
        		navleft.style.backgroundColor = "transparent";

        	}	

        });



       	rightWindow.addEventListener("scroll", () => {

        	if(rightWindow.scrollTop >= 100){

        		navright.style.backgroundColor = "#7A8282";

        	}else {
        		
        		navright.style.backgroundColor = "transparent";

        	}	

        });



       	// FONCTION SCROLL TO -----------------------------------------

       	function scrollToElementD(){
    		
    		var topPos = document.getElementById('contact').offsetTop;
    		
    		document.getElementById('left').scrollTop = topPos-10;
		}


		// ANIMATE -----------------------------------------------

		var canvas, stage, exportRoot, anim_container, dom_overlay_container, fnStartAnimation;
		function init() {
			canvas = document.getElementById("canvas");
			anim_container = document.getElementById("animation_container");
			dom_overlay_container = document.getElementById("dom_overlay_container");
			var comp=AdobeAn.getComposition("8BCF8E54952E5C4B8A5E4E0955169161");
			var lib=comp.getLibrary();
			var loader = new createjs.LoadQueue(false);
			loader.addEventListener("fileload", function(evt){handleFileLoad(evt,comp)});
			loader.addEventListener("complete", function(evt){handleComplete(evt,comp)});
			var lib=comp.getLibrary();
			loader.loadManifest(lib.properties.manifest);
		}
		function handleFileLoad(evt, comp) {
			var images=comp.getImages();	
			if (evt && (evt.item.type == "image")) { images[evt.item.id] = evt.result; }	
		}
		function handleComplete(evt,comp) {
			//This function is always called, irrespective of the content. You can use the variable "stage" after it is created in token create_stage.
			var lib=comp.getLibrary();
			var ss=comp.getSpriteSheet();
			var queue = evt.target;
			var ssMetadata = lib.ssMetadata;
			for(i=0; i<ssMetadata.length; i++) {
				ss[ssMetadata[i].name] = new createjs.SpriteSheet( {"images": [queue.getResult(ssMetadata[i].name)], "frames": ssMetadata[i].frames} )
			}
			exportRoot = new lib.schema_anim();
			stage = new lib.Stage(canvas);	
			//Registers the "tick" event listener.
			fnStartAnimation = function() {
				stage.addChild(exportRoot);
				createjs.Ticker.setFPS(lib.properties.fps);
				createjs.Ticker.addEventListener("tick", stage);
			}	    
			//Code to support hidpi screens and responsive scaling.
			AdobeAn.makeResponsive(true,'both',false,1,[canvas,anim_container,dom_overlay_container]);	
			AdobeAn.compositionLoaded(lib.properties.id);
			fnStartAnimation();
		}





		// STRAPI 

		// --- REQUEST 

		const req = new XMLHttpRequest();

        req.onreadystatechange = function (event) {
            // XMLHttpRequest.DONE === 4
            if (this.readyState === XMLHttpRequest.DONE) {
                if (this.status === 200 || this.status === 304) {
                    console.log("Réponse reçue: %s", JSON.parse(this.responseText));
                    listeArticles(JSON.parse(this.responseText), 'intro');
                } else {
                    console.log("Status de la réponse: %d (%s)", this.status, this.statusText);
                }
            }
        };

        req.open('GET', 'http://localhost:1337/articles', true);
        req.send(null);


        // --- FUNCTION 


        function listeArticles(tab, el) {
            for (let a of tab) {
                let container = document.createElement('div');
                let titre = document.createElement("h2");
                let contenu = document.createElement("p");
                let figure = document.createElement("figure");

                let img = new Image();
                img.src = a.image.url;

                titre.textContent = a.titre;
                contenu.textContent = a.contenu;

                container.appendChild(titre);
                container.appendChild(contenu);
                figure.appendChild(img)

                document.getElementById(el).appendChild(container);
                document.getElementById(el).appendChild(figure);

            }
        }





	</script>

</body>
</html>